use std::io::{BufReader, Read};

use anyhow::Context;

pub(crate) fn invoke() -> anyhow::Result<()> {
    let f = std::fs::File::open(".git/index").context("Open the .git/index file.")?;
    let mut b = BufReader::new(f);
    let mut buff = Vec::new();
    b.read_to_end(&mut buff).context("Reading files from buffer.");

    let stdout=std::io::stdout();
    let stdout=stdout.lock(); 

    write!(&stdout,&buf);

    Ok(())
}
